{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Anime website with a player profile page featuring username, avatar, matched clan/character, and unlocked badges. Profile uses clan-based dynamic theming and persistent user data storage.",
  "architectural_notes": [
    "Profile page layout: avatar on one side, user details on the other (character card style), responsive design",
    "Clan-based dynamic theming drives background and accent colors across the profile",
    "User profile data must be persisted (local or backend storage) for return visits"
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-create-a-new-profile-route-and-profilepage-component-the-top-section-must-render-as-a-character-card-layout-the-user-s-avatar-on-the-left-and-their-details-username-matched-clan-name-matched-character-name-on-the-right-the-page-must-be-responsive-and-collapse-to-a-stacked-layout-on-mobile",
      "title": "Create a new /profile route and ProfilePage component. The top section must render as a character card layout: the user's avatar on the left and their details (username, matched clan name, matched character name) on the right. The page must be responsive and collapse to a stacked layout on mobile.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-automatic-clan-based-theming-on-the-profilepage-when-the-user-s-matched-clan-is-loaded-apply-that-clan-s-primary-color-as-the-profile-page-accent-color-borders-glows-highlights-and-derive-a-matching-background-gradient-use-the-clan-color-data-already-defined-in-frontend-src-data-clans-ts-theme-must-update-dynamically-if-the-user-s-clan-changes",
      "title": "Implement automatic clan-based theming on the ProfilePage. When the user's matched clan is loaded, apply that clan's primary color as the profile page accent color (borders, glows, highlights) and derive a matching background gradient. Use the clan color data already defined in frontend/src/data/clans.ts. Theme must update dynamically if the user's clan changes.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-badge-section-below-the-character-card-on-the-profilepage-define-a-static-set-of-available-badges-at-minimum-6-with-a-name-icon-emoji-and-description-each-display-only-the-badges-present-in-the-user-s-unlockedbadges-array-locked-badges-must-not-be-shown",
      "title": "Add a badge section below the character card on the ProfilePage. Define a static set of available badges (at minimum 6) with a name, icon/emoji, and description each. Display only the badges present in the user's unlockedBadges array. Locked badges must not be shown.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-profile-link-to-the-navbar-when-the-user-is-authenticated-via-internet-identity-show-a-profile-navigation-link-that-routes-to-profile-when-unauthenticated-hide-the-link",
      "title": "Add a profile link to the Navbar. When the user is authenticated via Internet Identity, show a 'Profile' navigation link that routes to /profile. When unauthenticated, hide the link.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Player profile page with username, avatar, matched clan, matched character, and unlocked badges displayed in a character card layout",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Automatic clan-based theming (background and accent colors) on the profile page",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Badge section that shows only unlocked badges and hides locked ones",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Persistent user data storage so profile loads correctly on return visits",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Extend the backend user profile data model to store: username, avatar URL, matched clan ID, matched character ID, and an array of unlocked badge IDs. Expose query and update functions so the frontend can read and write a user's full profile by their Internet Identity principal.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Add React Query hooks in useQueries.ts for fetching (useGetProfile) and updating (useUpdateProfile) the authenticated user's profile from the backend. The fetch hook should run automatically when the user is authenticated via Internet Identity.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Whispers Of The White Moon",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}